{
 "cells": [
  {
   "cell_type": "markdown",
   "id": "a20b1cbf",
   "metadata": {},
   "source": [
    "## Trabajo final en Python\n",
    "\n",
    "### Base de datos de Desarrollo Global\n",
    "\n",
    "##### Estudiante\n",
    "\n",
    "Jennifer Rubi Retamozo Gonzales (20212164)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "a4c7c16d",
   "metadata": {},
   "source": [
    "Como parte del proyecto final del curso \"Introducción a Python para las Ciencias Sociales\", se llevará a cabo un análisis exhaustivo sobre el crecimiento económico sostenible y el desarrollo que promueven los países miembros de la APEC durante el año 2021, un foro de Cooperación Económica Asia-Pacífico en inglés (Asia-Pacific Economic Cooperation), es un foro regional de cooperación económica que reúne a 21 economías de la región de Asia y el Pacífico. Para este propósito, se seleccionaron 2 indicadores fundamentales y relacionados: crecimiento del PBI y participación de la fuerza laboral femenina. Se han elegido estos indicadores en tanto brindan una visión completa y representativa de diferentes aspectos del desarrollo económico de cada país y continente miembro del Foro.\n",
    "\n",
    "**El crecimiento del PBI**  indicación clave del rendimiento económico de un país y **la participación de la fuerza laboral femenina** es un indicador clave de productividad, equidad de género y desarrollo social.\n",
    "\n",
    "El proceso de análisis comienza con la preparación de la base de datos, que implica la selección y limpieza de datos relevantes. Esta etapa es fundamental para garantizar la calidad y coherencia de la información que será utilizada en los gráficos subsiguientes.\n",
    "\n",
    "A continuación, se crean cuatro gráficos que facilitarán la interpretación y comparación de los indicadores en los países latinoamericanos según continente miembros de la APEC. Estos gráficos proporcionarán una visión visual y comparativa de cada indicador entre diferentes naciones y continentes.\n",
    "\n",
    "La importancia de este análisis radica en entender las tendencias y disparidades en el desarrollo global y regional. Proporcionará información valiosa para comprender cómo estos países y determinados continentes han evolucionado en áreas clave y, por ende, permitirá identificar áreas de fortaleza y aquellas que requieren una atención más específica con respecto a los objetivos propuestos desde el foro económico. Todo esto con el objetivo de obtener resultados relevantes para el desarrollo de los mimebros de la APEC."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "f174e1fc",
   "metadata": {},
   "source": [
    "# Limpieza de la base de datos"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 249,
   "id": "dd9ed893",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Requirement already satisfied: altair in /Users/francogonzales/anaconda3/lib/python3.11/site-packages (5.2.0)\n",
      "Requirement already satisfied: jinja2 in /Users/francogonzales/anaconda3/lib/python3.11/site-packages (from altair) (3.1.2)\n",
      "Requirement already satisfied: jsonschema>=3.0 in /Users/francogonzales/anaconda3/lib/python3.11/site-packages (from altair) (4.17.3)\n",
      "Requirement already satisfied: numpy in /Users/francogonzales/anaconda3/lib/python3.11/site-packages (from altair) (1.24.3)\n",
      "Requirement already satisfied: packaging in /Users/francogonzales/anaconda3/lib/python3.11/site-packages (from altair) (23.1)\n",
      "Requirement already satisfied: pandas>=0.25 in /Users/francogonzales/anaconda3/lib/python3.11/site-packages (from altair) (2.0.3)\n",
      "Requirement already satisfied: toolz in /Users/francogonzales/anaconda3/lib/python3.11/site-packages (from altair) (0.12.0)\n",
      "Requirement already satisfied: attrs>=17.4.0 in /Users/francogonzales/anaconda3/lib/python3.11/site-packages (from jsonschema>=3.0->altair) (22.1.0)\n",
      "Requirement already satisfied: pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0 in /Users/francogonzales/anaconda3/lib/python3.11/site-packages (from jsonschema>=3.0->altair) (0.18.0)\n",
      "Requirement already satisfied: python-dateutil>=2.8.2 in /Users/francogonzales/anaconda3/lib/python3.11/site-packages (from pandas>=0.25->altair) (2.8.2)\n",
      "Requirement already satisfied: pytz>=2020.1 in /Users/francogonzales/anaconda3/lib/python3.11/site-packages (from pandas>=0.25->altair) (2023.3.post1)\n",
      "Requirement already satisfied: tzdata>=2022.1 in /Users/francogonzales/anaconda3/lib/python3.11/site-packages (from pandas>=0.25->altair) (2023.3)\n",
      "Requirement already satisfied: MarkupSafe>=2.0 in /Users/francogonzales/anaconda3/lib/python3.11/site-packages (from jinja2->altair) (2.1.1)\n",
      "Requirement already satisfied: six>=1.5 in /Users/francogonzales/anaconda3/lib/python3.11/site-packages (from python-dateutil>=2.8.2->pandas>=0.25->altair) (1.16.0)\n"
     ]
    }
   ],
   "source": [
    "#Importamos la data\n",
    "import pandas as pd\n",
    "import altair as alt\n",
    "!pip install altair"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 355,
   "id": "1dac3005",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>country name</th>\n",
       "      <th>country code</th>\n",
       "      <th>series name</th>\n",
       "      <th>series code</th>\n",
       "      <th>2021 [yr2021]</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Afghanistan</td>\n",
       "      <td>AFG</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>-20.7388393676343</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>Afghanistan</td>\n",
       "      <td>AFG</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>..</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>9</th>\n",
       "      <td>Albania</td>\n",
       "      <td>ALB</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>8.90852781831182</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>11</th>\n",
       "      <td>Albania</td>\n",
       "      <td>ALB</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>44.1211346534367</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>15</th>\n",
       "      <td>Algeria</td>\n",
       "      <td>DZA</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>3.39999999973611</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>17</th>\n",
       "      <td>Algeria</td>\n",
       "      <td>DZA</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>19.5184356953206</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   country name country code                                   series name  \\\n",
       "3   Afghanistan          AFG                         GDP growth (annual %)   \n",
       "5   Afghanistan          AFG  Labor force, female (% of total labor force)   \n",
       "9       Albania          ALB                         GDP growth (annual %)   \n",
       "11      Albania          ALB  Labor force, female (% of total labor force)   \n",
       "15      Algeria          DZA                         GDP growth (annual %)   \n",
       "17      Algeria          DZA  Labor force, female (% of total labor force)   \n",
       "\n",
       "      series code      2021 [yr2021]  \n",
       "3             pbi  -20.7388393676343  \n",
       "5   fuerzalab_fem                 ..  \n",
       "9             pbi   8.90852781831182  \n",
       "11  fuerzalab_fem   44.1211346534367  \n",
       "15            pbi   3.39999999973611  \n",
       "17  fuerzalab_fem   19.5184356953206  "
      ]
     },
     "execution_count": 355,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "locacion_datos = \"51f7ab6a-24ed-4a06-9f5d-04873f1673fd_Data-1.csv\"\n",
    "IDG = pd.read_csv(locacion_datos, encoding='latin-1')\n",
    "IDG.columns= IDG.columns.str.lower()\n",
    "\n",
    "# Cambiamos el nombre de las variables\n",
    "IDG['series code'] = IDG['series code'].replace({'EG.ELC.ACCS.ZS': 'acceso_elect','EG.ELC.ACCS.RU.ZS': 'acs_elect_rural','EN.ATM.CO2E.PC': 'co2_emision','NY.GDP.MKTP.KD.ZG': 'pbi','SH.MED.BEDS.ZS': 'camas_hospital','SL.TLF.TOTL.FE.ZS': 'fuerzalab_fem'})\n",
    "\n",
    "# Seleccionamos al año 2021, año posterior a la pandemia\n",
    "IDG = IDG.drop(columns=IDG.columns[list(range(4, 65)) + [66]])\n",
    "\n",
    "# Filtramos para quedarnos con los indicadores de PBI y Fuerza Laboral Femenina\n",
    "IDG = IDG[IDG['series code'].isin(['pbi', 'fuerzalab_fem'])]\n",
    "IDG.head(6)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "a43435be",
   "metadata": {},
   "source": [
    "Ahora crearemos una subdata que albergue solamente a los países miembros de la APEC y agregaremos una columna donde se clasifique cada país de acuerdo a su continente de pertenencia"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 356,
   "id": "0739773f",
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "/var/folders/k9/_t34vt157nz_ktphmrv7zcgr0000gn/T/ipykernel_2497/3757007210.py:29: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  IDG_APEC.loc[:, 'continent'] = IDG_APEC['country name'].map(continent_dict).copy()\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>country name</th>\n",
       "      <th>country code</th>\n",
       "      <th>series name</th>\n",
       "      <th>series code</th>\n",
       "      <th>2021 [yr2021]</th>\n",
       "      <th>continent</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>63</th>\n",
       "      <td>Australia</td>\n",
       "      <td>AUS</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>2.11183088925151</td>\n",
       "      <td>Oceania</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>65</th>\n",
       "      <td>Australia</td>\n",
       "      <td>AUS</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>47.1699615129658</td>\n",
       "      <td>Oceania</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>171</th>\n",
       "      <td>Brunei Darussalam</td>\n",
       "      <td>BRN</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>-1.59076260099606</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>173</th>\n",
       "      <td>Brunei Darussalam</td>\n",
       "      <td>BRN</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>41.545202014499</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>213</th>\n",
       "      <td>Canada</td>\n",
       "      <td>CAN</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>5.01180087532744</td>\n",
       "      <td>America</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>215</th>\n",
       "      <td>Canada</td>\n",
       "      <td>CAN</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>47.118859517777</td>\n",
       "      <td>America</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>243</th>\n",
       "      <td>Chile</td>\n",
       "      <td>CHL</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>11.7374310662749</td>\n",
       "      <td>America</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>245</th>\n",
       "      <td>Chile</td>\n",
       "      <td>CHL</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>40.9923901594592</td>\n",
       "      <td>America</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>249</th>\n",
       "      <td>China</td>\n",
       "      <td>CHN</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>8.44846941628141</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>251</th>\n",
       "      <td>China</td>\n",
       "      <td>CHN</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>45.2001384829102</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>519</th>\n",
       "      <td>Hong Kong SAR, China</td>\n",
       "      <td>HKG</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>6.44172382600794</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>521</th>\n",
       "      <td>Hong Kong SAR, China</td>\n",
       "      <td>HKG</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>49.8580713114707</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>543</th>\n",
       "      <td>Indonesia</td>\n",
       "      <td>IDN</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>3.70305535690933</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>545</th>\n",
       "      <td>Indonesia</td>\n",
       "      <td>IDN</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>39.4749843756645</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>591</th>\n",
       "      <td>Japan</td>\n",
       "      <td>JPN</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>2.14248736902735</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>593</th>\n",
       "      <td>Japan</td>\n",
       "      <td>JPN</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>44.5754514899833</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>627</th>\n",
       "      <td>Korea, Rep.</td>\n",
       "      <td>KOR</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>4.30473481906969</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>629</th>\n",
       "      <td>Korea, Rep.</td>\n",
       "      <td>KOR</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>42.7170084666589</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>723</th>\n",
       "      <td>Malaysia</td>\n",
       "      <td>MYS</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>3.29764100831838</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>725</th>\n",
       "      <td>Malaysia</td>\n",
       "      <td>MYS</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>39.0420390374102</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>765</th>\n",
       "      <td>Mexico</td>\n",
       "      <td>MEX</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>5.83782952301841</td>\n",
       "      <td>America</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>767</th>\n",
       "      <td>Mexico</td>\n",
       "      <td>MEX</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>38.3417717090361</td>\n",
       "      <td>America</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>849</th>\n",
       "      <td>New Zealand</td>\n",
       "      <td>NZL</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>5.16784735916997</td>\n",
       "      <td>Oceania</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>851</th>\n",
       "      <td>New Zealand</td>\n",
       "      <td>NZL</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>47.4842137256425</td>\n",
       "      <td>Oceania</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>915</th>\n",
       "      <td>Papua New Guinea</td>\n",
       "      <td>PNG</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>-0.780328796906943</td>\n",
       "      <td>Oceania</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>917</th>\n",
       "      <td>Papua New Guinea</td>\n",
       "      <td>PNG</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>47.8421270245407</td>\n",
       "      <td>Oceania</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>927</th>\n",
       "      <td>Peru</td>\n",
       "      <td>PER</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>13.4175302909947</td>\n",
       "      <td>America</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>929</th>\n",
       "      <td>Peru</td>\n",
       "      <td>PER</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>45.975899260784</td>\n",
       "      <td>America</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>933</th>\n",
       "      <td>Philippines</td>\n",
       "      <td>PHL</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>5.71473313483246</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>935</th>\n",
       "      <td>Philippines</td>\n",
       "      <td>PHL</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>38.7293364002045</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>969</th>\n",
       "      <td>Russian Federation</td>\n",
       "      <td>RUS</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>5.61429037578345</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>971</th>\n",
       "      <td>Russian Federation</td>\n",
       "      <td>RUS</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>48.559815391571</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1029</th>\n",
       "      <td>Singapore</td>\n",
       "      <td>SGP</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>8.88235399664532</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1031</th>\n",
       "      <td>Singapore</td>\n",
       "      <td>SGP</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>42.8761045765784</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1155</th>\n",
       "      <td>Thailand</td>\n",
       "      <td>THA</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>1.49209523545821</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1157</th>\n",
       "      <td>Thailand</td>\n",
       "      <td>THA</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>45.9562441061913</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1239</th>\n",
       "      <td>United States</td>\n",
       "      <td>USA</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>5.94548476122172</td>\n",
       "      <td>America</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1241</th>\n",
       "      <td>United States</td>\n",
       "      <td>USA</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>46.1491848958517</td>\n",
       "      <td>America</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1269</th>\n",
       "      <td>Viet Nam</td>\n",
       "      <td>VNM</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>2.56156410670985</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1271</th>\n",
       "      <td>Viet Nam</td>\n",
       "      <td>VNM</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>48.2469565958107</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "              country name country code  \\\n",
       "63               Australia          AUS   \n",
       "65               Australia          AUS   \n",
       "171      Brunei Darussalam          BRN   \n",
       "173      Brunei Darussalam          BRN   \n",
       "213                 Canada          CAN   \n",
       "215                 Canada          CAN   \n",
       "243                  Chile          CHL   \n",
       "245                  Chile          CHL   \n",
       "249                  China          CHN   \n",
       "251                  China          CHN   \n",
       "519   Hong Kong SAR, China          HKG   \n",
       "521   Hong Kong SAR, China          HKG   \n",
       "543              Indonesia          IDN   \n",
       "545              Indonesia          IDN   \n",
       "591                  Japan          JPN   \n",
       "593                  Japan          JPN   \n",
       "627            Korea, Rep.          KOR   \n",
       "629            Korea, Rep.          KOR   \n",
       "723               Malaysia          MYS   \n",
       "725               Malaysia          MYS   \n",
       "765                 Mexico          MEX   \n",
       "767                 Mexico          MEX   \n",
       "849            New Zealand          NZL   \n",
       "851            New Zealand          NZL   \n",
       "915       Papua New Guinea          PNG   \n",
       "917       Papua New Guinea          PNG   \n",
       "927                   Peru          PER   \n",
       "929                   Peru          PER   \n",
       "933            Philippines          PHL   \n",
       "935            Philippines          PHL   \n",
       "969     Russian Federation          RUS   \n",
       "971     Russian Federation          RUS   \n",
       "1029             Singapore          SGP   \n",
       "1031             Singapore          SGP   \n",
       "1155              Thailand          THA   \n",
       "1157              Thailand          THA   \n",
       "1239         United States          USA   \n",
       "1241         United States          USA   \n",
       "1269              Viet Nam          VNM   \n",
       "1271              Viet Nam          VNM   \n",
       "\n",
       "                                       series name    series code  \\\n",
       "63                           GDP growth (annual %)            pbi   \n",
       "65    Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "171                          GDP growth (annual %)            pbi   \n",
       "173   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "213                          GDP growth (annual %)            pbi   \n",
       "215   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "243                          GDP growth (annual %)            pbi   \n",
       "245   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "249                          GDP growth (annual %)            pbi   \n",
       "251   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "519                          GDP growth (annual %)            pbi   \n",
       "521   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "543                          GDP growth (annual %)            pbi   \n",
       "545   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "591                          GDP growth (annual %)            pbi   \n",
       "593   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "627                          GDP growth (annual %)            pbi   \n",
       "629   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "723                          GDP growth (annual %)            pbi   \n",
       "725   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "765                          GDP growth (annual %)            pbi   \n",
       "767   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "849                          GDP growth (annual %)            pbi   \n",
       "851   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "915                          GDP growth (annual %)            pbi   \n",
       "917   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "927                          GDP growth (annual %)            pbi   \n",
       "929   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "933                          GDP growth (annual %)            pbi   \n",
       "935   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "969                          GDP growth (annual %)            pbi   \n",
       "971   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "1029                         GDP growth (annual %)            pbi   \n",
       "1031  Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "1155                         GDP growth (annual %)            pbi   \n",
       "1157  Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "1239                         GDP growth (annual %)            pbi   \n",
       "1241  Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "1269                         GDP growth (annual %)            pbi   \n",
       "1271  Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "\n",
       "           2021 [yr2021] continent  \n",
       "63      2.11183088925151   Oceania  \n",
       "65      47.1699615129658   Oceania  \n",
       "171    -1.59076260099606      Asia  \n",
       "173      41.545202014499      Asia  \n",
       "213     5.01180087532744   America  \n",
       "215      47.118859517777   America  \n",
       "243     11.7374310662749   America  \n",
       "245     40.9923901594592   America  \n",
       "249     8.44846941628141      Asia  \n",
       "251     45.2001384829102      Asia  \n",
       "519     6.44172382600794      Asia  \n",
       "521     49.8580713114707      Asia  \n",
       "543     3.70305535690933      Asia  \n",
       "545     39.4749843756645      Asia  \n",
       "591     2.14248736902735      Asia  \n",
       "593     44.5754514899833      Asia  \n",
       "627     4.30473481906969      Asia  \n",
       "629     42.7170084666589      Asia  \n",
       "723     3.29764100831838      Asia  \n",
       "725     39.0420390374102      Asia  \n",
       "765     5.83782952301841   America  \n",
       "767     38.3417717090361   America  \n",
       "849     5.16784735916997   Oceania  \n",
       "851     47.4842137256425   Oceania  \n",
       "915   -0.780328796906943   Oceania  \n",
       "917     47.8421270245407   Oceania  \n",
       "927     13.4175302909947   America  \n",
       "929      45.975899260784   America  \n",
       "933     5.71473313483246      Asia  \n",
       "935     38.7293364002045      Asia  \n",
       "969     5.61429037578345      Asia  \n",
       "971      48.559815391571      Asia  \n",
       "1029    8.88235399664532      Asia  \n",
       "1031    42.8761045765784      Asia  \n",
       "1155    1.49209523545821      Asia  \n",
       "1157    45.9562441061913      Asia  \n",
       "1239    5.94548476122172   America  \n",
       "1241    46.1491848958517   America  \n",
       "1269    2.56156410670985      Asia  \n",
       "1271    48.2469565958107      Asia  "
      ]
     },
     "execution_count": 356,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#Filtramos los países que deseamos\n",
    "IDG_APEC = IDG.loc[IDG['country name'].isin(['Australia', 'Brunei Darussalam', 'Canada', 'Korea, Rep.', 'Chile', 'China', 'United States', 'Philippines', 'Hong Kong SAR, China', 'Indonesia', 'Japan', 'Malaysia', 'Mexico', 'New Zealand', 'Papua New Guinea', 'Peru', 'Russian Federation', 'Singapore', 'Thailand', 'Viet Nam'])]\n",
    "\n",
    "# Asignamos a cada país su continente\n",
    "continent_dict = {\n",
    "    'Australia': 'Oceania',\n",
    "    'Brunei Darussalam': 'Asia',\n",
    "    'Canada': 'America',\n",
    "    'Korea, Rep.': 'Asia',\n",
    "    'Chile': 'America',\n",
    "    'China': 'Asia',\n",
    "    'United States': 'America',\n",
    "    'Philippines': 'Asia',\n",
    "    'Hong Kong SAR, China': 'Asia',\n",
    "    'Indonesia': 'Asia',\n",
    "    'Japan': 'Asia',\n",
    "    'Malaysia': 'Asia',\n",
    "    'Mexico': 'America',\n",
    "    'New Zealand': 'Oceania',\n",
    "    'Papua New Guinea': 'Oceania',\n",
    "    'Peru': 'America',\n",
    "    'Russian Federation': 'Asia',\n",
    "    'Singapore': 'Asia',\n",
    "    'Thailand': 'Asia',\n",
    "    'Viet Nam': 'Asia'\n",
    "}\n",
    "\n",
    "# Creamos la nueva columna 'continent' utilizando el diccionario\n",
    "IDG_APEC.loc[:, 'continent'] = IDG_APEC['country name'].map(continent_dict).copy()\n",
    "\n",
    "IDG_APEC # Visualizamos la nueva data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 357,
   "id": "95616c0d",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>country name</th>\n",
       "      <th>country code</th>\n",
       "      <th>series name</th>\n",
       "      <th>series code</th>\n",
       "      <th>2021 [yr2021]</th>\n",
       "      <th>continent</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>63</th>\n",
       "      <td>Australia</td>\n",
       "      <td>AUS</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>2.11183088925151</td>\n",
       "      <td>Oceania</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>65</th>\n",
       "      <td>Australia</td>\n",
       "      <td>AUS</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>47.1699615129658</td>\n",
       "      <td>Oceania</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>171</th>\n",
       "      <td>Brunei Darussalam</td>\n",
       "      <td>BRN</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>-1.59076260099606</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>173</th>\n",
       "      <td>Brunei Darussalam</td>\n",
       "      <td>BRN</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>41.545202014499</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>213</th>\n",
       "      <td>Canada</td>\n",
       "      <td>CAN</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>5.01180087532744</td>\n",
       "      <td>America</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>215</th>\n",
       "      <td>Canada</td>\n",
       "      <td>CAN</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>47.118859517777</td>\n",
       "      <td>America</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>243</th>\n",
       "      <td>Chile</td>\n",
       "      <td>CHL</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>11.7374310662749</td>\n",
       "      <td>America</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>245</th>\n",
       "      <td>Chile</td>\n",
       "      <td>CHL</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>40.9923901594592</td>\n",
       "      <td>America</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>249</th>\n",
       "      <td>China</td>\n",
       "      <td>CHN</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>8.44846941628141</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>251</th>\n",
       "      <td>China</td>\n",
       "      <td>CHN</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>45.2001384829102</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>519</th>\n",
       "      <td>Hong Kong SAR, China</td>\n",
       "      <td>HKG</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>6.44172382600794</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>521</th>\n",
       "      <td>Hong Kong SAR, China</td>\n",
       "      <td>HKG</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>49.8580713114707</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>543</th>\n",
       "      <td>Indonesia</td>\n",
       "      <td>IDN</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>3.70305535690933</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>545</th>\n",
       "      <td>Indonesia</td>\n",
       "      <td>IDN</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>39.4749843756645</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>591</th>\n",
       "      <td>Japan</td>\n",
       "      <td>JPN</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>2.14248736902735</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>593</th>\n",
       "      <td>Japan</td>\n",
       "      <td>JPN</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>44.5754514899833</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>627</th>\n",
       "      <td>Korea, Rep.</td>\n",
       "      <td>KOR</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>4.30473481906969</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>629</th>\n",
       "      <td>Korea, Rep.</td>\n",
       "      <td>KOR</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>42.7170084666589</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>723</th>\n",
       "      <td>Malaysia</td>\n",
       "      <td>MYS</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>3.29764100831838</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>725</th>\n",
       "      <td>Malaysia</td>\n",
       "      <td>MYS</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>39.0420390374102</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>765</th>\n",
       "      <td>Mexico</td>\n",
       "      <td>MEX</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>5.83782952301841</td>\n",
       "      <td>America</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>767</th>\n",
       "      <td>Mexico</td>\n",
       "      <td>MEX</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>38.3417717090361</td>\n",
       "      <td>America</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>849</th>\n",
       "      <td>New Zealand</td>\n",
       "      <td>NZL</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>5.16784735916997</td>\n",
       "      <td>Oceania</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>851</th>\n",
       "      <td>New Zealand</td>\n",
       "      <td>NZL</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>47.4842137256425</td>\n",
       "      <td>Oceania</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>915</th>\n",
       "      <td>Papua New Guinea</td>\n",
       "      <td>PNG</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>-0.780328796906943</td>\n",
       "      <td>Oceania</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>917</th>\n",
       "      <td>Papua New Guinea</td>\n",
       "      <td>PNG</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>47.8421270245407</td>\n",
       "      <td>Oceania</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>927</th>\n",
       "      <td>Peru</td>\n",
       "      <td>PER</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>13.4175302909947</td>\n",
       "      <td>America</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>929</th>\n",
       "      <td>Peru</td>\n",
       "      <td>PER</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>45.975899260784</td>\n",
       "      <td>America</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>933</th>\n",
       "      <td>Philippines</td>\n",
       "      <td>PHL</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>5.71473313483246</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>935</th>\n",
       "      <td>Philippines</td>\n",
       "      <td>PHL</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>38.7293364002045</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>969</th>\n",
       "      <td>Russian Federation</td>\n",
       "      <td>RUS</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>5.61429037578345</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>971</th>\n",
       "      <td>Russian Federation</td>\n",
       "      <td>RUS</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>48.559815391571</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1029</th>\n",
       "      <td>Singapore</td>\n",
       "      <td>SGP</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>8.88235399664532</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1031</th>\n",
       "      <td>Singapore</td>\n",
       "      <td>SGP</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>42.8761045765784</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1155</th>\n",
       "      <td>Thailand</td>\n",
       "      <td>THA</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>1.49209523545821</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1157</th>\n",
       "      <td>Thailand</td>\n",
       "      <td>THA</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>45.9562441061913</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1239</th>\n",
       "      <td>United States</td>\n",
       "      <td>USA</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>5.94548476122172</td>\n",
       "      <td>America</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1241</th>\n",
       "      <td>United States</td>\n",
       "      <td>USA</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>46.1491848958517</td>\n",
       "      <td>America</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1269</th>\n",
       "      <td>Viet Nam</td>\n",
       "      <td>VNM</td>\n",
       "      <td>GDP growth (annual %)</td>\n",
       "      <td>pbi</td>\n",
       "      <td>2.56156410670985</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1271</th>\n",
       "      <td>Viet Nam</td>\n",
       "      <td>VNM</td>\n",
       "      <td>Labor force, female (% of total labor force)</td>\n",
       "      <td>fuerzalab_fem</td>\n",
       "      <td>48.2469565958107</td>\n",
       "      <td>Asia</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "              country name country code  \\\n",
       "63               Australia          AUS   \n",
       "65               Australia          AUS   \n",
       "171      Brunei Darussalam          BRN   \n",
       "173      Brunei Darussalam          BRN   \n",
       "213                 Canada          CAN   \n",
       "215                 Canada          CAN   \n",
       "243                  Chile          CHL   \n",
       "245                  Chile          CHL   \n",
       "249                  China          CHN   \n",
       "251                  China          CHN   \n",
       "519   Hong Kong SAR, China          HKG   \n",
       "521   Hong Kong SAR, China          HKG   \n",
       "543              Indonesia          IDN   \n",
       "545              Indonesia          IDN   \n",
       "591                  Japan          JPN   \n",
       "593                  Japan          JPN   \n",
       "627            Korea, Rep.          KOR   \n",
       "629            Korea, Rep.          KOR   \n",
       "723               Malaysia          MYS   \n",
       "725               Malaysia          MYS   \n",
       "765                 Mexico          MEX   \n",
       "767                 Mexico          MEX   \n",
       "849            New Zealand          NZL   \n",
       "851            New Zealand          NZL   \n",
       "915       Papua New Guinea          PNG   \n",
       "917       Papua New Guinea          PNG   \n",
       "927                   Peru          PER   \n",
       "929                   Peru          PER   \n",
       "933            Philippines          PHL   \n",
       "935            Philippines          PHL   \n",
       "969     Russian Federation          RUS   \n",
       "971     Russian Federation          RUS   \n",
       "1029             Singapore          SGP   \n",
       "1031             Singapore          SGP   \n",
       "1155              Thailand          THA   \n",
       "1157              Thailand          THA   \n",
       "1239         United States          USA   \n",
       "1241         United States          USA   \n",
       "1269              Viet Nam          VNM   \n",
       "1271              Viet Nam          VNM   \n",
       "\n",
       "                                       series name    series code  \\\n",
       "63                           GDP growth (annual %)            pbi   \n",
       "65    Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "171                          GDP growth (annual %)            pbi   \n",
       "173   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "213                          GDP growth (annual %)            pbi   \n",
       "215   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "243                          GDP growth (annual %)            pbi   \n",
       "245   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "249                          GDP growth (annual %)            pbi   \n",
       "251   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "519                          GDP growth (annual %)            pbi   \n",
       "521   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "543                          GDP growth (annual %)            pbi   \n",
       "545   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "591                          GDP growth (annual %)            pbi   \n",
       "593   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "627                          GDP growth (annual %)            pbi   \n",
       "629   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "723                          GDP growth (annual %)            pbi   \n",
       "725   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "765                          GDP growth (annual %)            pbi   \n",
       "767   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "849                          GDP growth (annual %)            pbi   \n",
       "851   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "915                          GDP growth (annual %)            pbi   \n",
       "917   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "927                          GDP growth (annual %)            pbi   \n",
       "929   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "933                          GDP growth (annual %)            pbi   \n",
       "935   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "969                          GDP growth (annual %)            pbi   \n",
       "971   Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "1029                         GDP growth (annual %)            pbi   \n",
       "1031  Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "1155                         GDP growth (annual %)            pbi   \n",
       "1157  Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "1239                         GDP growth (annual %)            pbi   \n",
       "1241  Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "1269                         GDP growth (annual %)            pbi   \n",
       "1271  Labor force, female (% of total labor force)  fuerzalab_fem   \n",
       "\n",
       "           2021 [yr2021] continent  \n",
       "63      2.11183088925151   Oceania  \n",
       "65      47.1699615129658   Oceania  \n",
       "171    -1.59076260099606      Asia  \n",
       "173      41.545202014499      Asia  \n",
       "213     5.01180087532744   America  \n",
       "215      47.118859517777   America  \n",
       "243     11.7374310662749   America  \n",
       "245     40.9923901594592   America  \n",
       "249     8.44846941628141      Asia  \n",
       "251     45.2001384829102      Asia  \n",
       "519     6.44172382600794      Asia  \n",
       "521     49.8580713114707      Asia  \n",
       "543     3.70305535690933      Asia  \n",
       "545     39.4749843756645      Asia  \n",
       "591     2.14248736902735      Asia  \n",
       "593     44.5754514899833      Asia  \n",
       "627     4.30473481906969      Asia  \n",
       "629     42.7170084666589      Asia  \n",
       "723     3.29764100831838      Asia  \n",
       "725     39.0420390374102      Asia  \n",
       "765     5.83782952301841   America  \n",
       "767     38.3417717090361   America  \n",
       "849     5.16784735916997   Oceania  \n",
       "851     47.4842137256425   Oceania  \n",
       "915   -0.780328796906943   Oceania  \n",
       "917     47.8421270245407   Oceania  \n",
       "927     13.4175302909947   America  \n",
       "929      45.975899260784   America  \n",
       "933     5.71473313483246      Asia  \n",
       "935     38.7293364002045      Asia  \n",
       "969     5.61429037578345      Asia  \n",
       "971      48.559815391571      Asia  \n",
       "1029    8.88235399664532      Asia  \n",
       "1031    42.8761045765784      Asia  \n",
       "1155    1.49209523545821      Asia  \n",
       "1157    45.9562441061913      Asia  \n",
       "1239    5.94548476122172   America  \n",
       "1241    46.1491848958517   America  \n",
       "1269    2.56156410670985      Asia  \n",
       "1271    48.2469565958107      Asia  "
      ]
     },
     "execution_count": 357,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Diccionario ficticio que asocia países con continentes\n",
    "continent_dict = {\n",
    "    'Australia': 'Oceania',\n",
    "    'Brunei Darussalam': 'Asia',\n",
    "    'Canada': 'America',\n",
    "    'Korea, Rep.': 'Asia',\n",
    "    'Chile': 'America',\n",
    "    'China': 'Asia',\n",
    "    'United States': 'America',\n",
    "    'Philippines': 'Asia',\n",
    "    'Hong Kong SAR, China': 'Asia',\n",
    "    'Indonesia': 'Asia',\n",
    "    'Japan': 'Asia',\n",
    "    'Malaysia': 'Asia',\n",
    "    'Mexico': 'America',\n",
    "    'New Zealand': 'Oceania',\n",
    "    'Papua New Guinea': 'Oceania',\n",
    "    'Peru': 'America',\n",
    "    'Russian Federation': 'Asia',\n",
    "    'Singapore': 'Asia',\n",
    "    'Thailand': 'Asia',\n",
    "    'Viet Nam': 'Asia'\n",
    "}\n",
    "\n",
    "# Crear la nueva columna 'continent' utilizando el diccionario\n",
    "IDG_APEC.loc[:, 'continent'] = IDG_APEC['country name'].map(continent_dict).copy()\n",
    "\n",
    "IDG_APEC"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "2049178c",
   "metadata": {},
   "source": [
    "Ahora, convertiremos 'series code' en nuevas variables tal que podamos visualizar fuerza laboral femenina y crecimiento del pbi como columnas"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 358,
   "id": "b6fa55a7",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>country name</th>\n",
       "      <th>continent</th>\n",
       "      <th>fuerzalab_fem</th>\n",
       "      <th>pbi</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Australia</td>\n",
       "      <td>Oceania</td>\n",
       "      <td>47.1699615129658</td>\n",
       "      <td>2.11183088925151</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>Brunei Darussalam</td>\n",
       "      <td>Asia</td>\n",
       "      <td>41.545202014499</td>\n",
       "      <td>-1.59076260099606</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Canada</td>\n",
       "      <td>America</td>\n",
       "      <td>47.118859517777</td>\n",
       "      <td>5.01180087532744</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Chile</td>\n",
       "      <td>America</td>\n",
       "      <td>40.9923901594592</td>\n",
       "      <td>11.7374310662749</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>China</td>\n",
       "      <td>Asia</td>\n",
       "      <td>45.2001384829102</td>\n",
       "      <td>8.44846941628141</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>Hong Kong SAR, China</td>\n",
       "      <td>Asia</td>\n",
       "      <td>49.8580713114707</td>\n",
       "      <td>6.44172382600794</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>Indonesia</td>\n",
       "      <td>Asia</td>\n",
       "      <td>39.4749843756645</td>\n",
       "      <td>3.70305535690933</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7</th>\n",
       "      <td>Japan</td>\n",
       "      <td>Asia</td>\n",
       "      <td>44.5754514899833</td>\n",
       "      <td>2.14248736902735</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8</th>\n",
       "      <td>Korea, Rep.</td>\n",
       "      <td>Asia</td>\n",
       "      <td>42.7170084666589</td>\n",
       "      <td>4.30473481906969</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>9</th>\n",
       "      <td>Malaysia</td>\n",
       "      <td>Asia</td>\n",
       "      <td>39.0420390374102</td>\n",
       "      <td>3.29764100831838</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>10</th>\n",
       "      <td>Mexico</td>\n",
       "      <td>America</td>\n",
       "      <td>38.3417717090361</td>\n",
       "      <td>5.83782952301841</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>11</th>\n",
       "      <td>New Zealand</td>\n",
       "      <td>Oceania</td>\n",
       "      <td>47.4842137256425</td>\n",
       "      <td>5.16784735916997</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>12</th>\n",
       "      <td>Papua New Guinea</td>\n",
       "      <td>Oceania</td>\n",
       "      <td>47.8421270245407</td>\n",
       "      <td>-0.780328796906943</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>13</th>\n",
       "      <td>Peru</td>\n",
       "      <td>America</td>\n",
       "      <td>45.975899260784</td>\n",
       "      <td>13.4175302909947</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>14</th>\n",
       "      <td>Philippines</td>\n",
       "      <td>Asia</td>\n",
       "      <td>38.7293364002045</td>\n",
       "      <td>5.71473313483246</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>15</th>\n",
       "      <td>Russian Federation</td>\n",
       "      <td>Asia</td>\n",
       "      <td>48.559815391571</td>\n",
       "      <td>5.61429037578345</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>16</th>\n",
       "      <td>Singapore</td>\n",
       "      <td>Asia</td>\n",
       "      <td>42.8761045765784</td>\n",
       "      <td>8.88235399664532</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>17</th>\n",
       "      <td>Thailand</td>\n",
       "      <td>Asia</td>\n",
       "      <td>45.9562441061913</td>\n",
       "      <td>1.49209523545821</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18</th>\n",
       "      <td>United States</td>\n",
       "      <td>America</td>\n",
       "      <td>46.1491848958517</td>\n",
       "      <td>5.94548476122172</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>19</th>\n",
       "      <td>Viet Nam</td>\n",
       "      <td>Asia</td>\n",
       "      <td>48.2469565958107</td>\n",
       "      <td>2.56156410670985</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "            country name continent     fuerzalab_fem                 pbi\n",
       "0              Australia   Oceania  47.1699615129658    2.11183088925151\n",
       "1      Brunei Darussalam      Asia   41.545202014499   -1.59076260099606\n",
       "2                 Canada   America   47.118859517777    5.01180087532744\n",
       "3                  Chile   America  40.9923901594592    11.7374310662749\n",
       "4                  China      Asia  45.2001384829102    8.44846941628141\n",
       "5   Hong Kong SAR, China      Asia  49.8580713114707    6.44172382600794\n",
       "6              Indonesia      Asia  39.4749843756645    3.70305535690933\n",
       "7                  Japan      Asia  44.5754514899833    2.14248736902735\n",
       "8            Korea, Rep.      Asia  42.7170084666589    4.30473481906969\n",
       "9               Malaysia      Asia  39.0420390374102    3.29764100831838\n",
       "10                Mexico   America  38.3417717090361    5.83782952301841\n",
       "11           New Zealand   Oceania  47.4842137256425    5.16784735916997\n",
       "12      Papua New Guinea   Oceania  47.8421270245407  -0.780328796906943\n",
       "13                  Peru   America   45.975899260784    13.4175302909947\n",
       "14           Philippines      Asia  38.7293364002045    5.71473313483246\n",
       "15    Russian Federation      Asia   48.559815391571    5.61429037578345\n",
       "16             Singapore      Asia  42.8761045765784    8.88235399664532\n",
       "17              Thailand      Asia  45.9562441061913    1.49209523545821\n",
       "18         United States   America  46.1491848958517    5.94548476122172\n",
       "19              Viet Nam      Asia  48.2469565958107    2.56156410670985"
      ]
     },
     "execution_count": 358,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Realizamos la pivotación\n",
    "IDG_APEC_pivot = IDG_APEC.pivot_table(index=['country name', 'continent'], columns='series code', values='2021 [yr2021]', aggfunc='first')\n",
    "\n",
    "# Eliminamos el nombre de las columnas\n",
    "IDG_APEC_pivot.columns.name = None\n",
    "\n",
    "# Reseteamos el índice para obtener 'country name' y 'continent' como columnas\n",
    "IDG_APEC_pivot = IDG_APEC_pivot.reset_index()\n",
    "\n",
    "# Mostramos el DataFrame resultante\n",
    "IDG_APEC_pivot"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "41609058",
   "metadata": {},
   "source": [
    "# SUBDATAS POR CADA CONTINENTE\n",
    "\n",
    "Analizaremos el indicador por cada continente (grupo de países) que sea miembro de la APEC, para ello crearemos subdatas.\n",
    "\n",
    "## Asia"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 359,
   "id": "f1767225",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>country name</th>\n",
       "      <th>continent</th>\n",
       "      <th>fuerzalab_fem</th>\n",
       "      <th>pbi</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>Brunei Darussalam</td>\n",
       "      <td>Asia</td>\n",
       "      <td>41.545202014499</td>\n",
       "      <td>-1.59076260099606</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>China</td>\n",
       "      <td>Asia</td>\n",
       "      <td>45.2001384829102</td>\n",
       "      <td>8.44846941628141</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>Hong Kong SAR, China</td>\n",
       "      <td>Asia</td>\n",
       "      <td>49.8580713114707</td>\n",
       "      <td>6.44172382600794</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>Indonesia</td>\n",
       "      <td>Asia</td>\n",
       "      <td>39.4749843756645</td>\n",
       "      <td>3.70305535690933</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7</th>\n",
       "      <td>Japan</td>\n",
       "      <td>Asia</td>\n",
       "      <td>44.5754514899833</td>\n",
       "      <td>2.14248736902735</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8</th>\n",
       "      <td>Korea, Rep.</td>\n",
       "      <td>Asia</td>\n",
       "      <td>42.7170084666589</td>\n",
       "      <td>4.30473481906969</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>9</th>\n",
       "      <td>Malaysia</td>\n",
       "      <td>Asia</td>\n",
       "      <td>39.0420390374102</td>\n",
       "      <td>3.29764100831838</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>14</th>\n",
       "      <td>Philippines</td>\n",
       "      <td>Asia</td>\n",
       "      <td>38.7293364002045</td>\n",
       "      <td>5.71473313483246</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>15</th>\n",
       "      <td>Russian Federation</td>\n",
       "      <td>Asia</td>\n",
       "      <td>48.559815391571</td>\n",
       "      <td>5.61429037578345</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>16</th>\n",
       "      <td>Singapore</td>\n",
       "      <td>Asia</td>\n",
       "      <td>42.8761045765784</td>\n",
       "      <td>8.88235399664532</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>17</th>\n",
       "      <td>Thailand</td>\n",
       "      <td>Asia</td>\n",
       "      <td>45.9562441061913</td>\n",
       "      <td>1.49209523545821</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>19</th>\n",
       "      <td>Viet Nam</td>\n",
       "      <td>Asia</td>\n",
       "      <td>48.2469565958107</td>\n",
       "      <td>2.56156410670985</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "            country name continent     fuerzalab_fem                pbi\n",
       "1      Brunei Darussalam      Asia   41.545202014499  -1.59076260099606\n",
       "4                  China      Asia  45.2001384829102   8.44846941628141\n",
       "5   Hong Kong SAR, China      Asia  49.8580713114707   6.44172382600794\n",
       "6              Indonesia      Asia  39.4749843756645   3.70305535690933\n",
       "7                  Japan      Asia  44.5754514899833   2.14248736902735\n",
       "8            Korea, Rep.      Asia  42.7170084666589   4.30473481906969\n",
       "9               Malaysia      Asia  39.0420390374102   3.29764100831838\n",
       "14           Philippines      Asia  38.7293364002045   5.71473313483246\n",
       "15    Russian Federation      Asia   48.559815391571   5.61429037578345\n",
       "16             Singapore      Asia  42.8761045765784   8.88235399664532\n",
       "17              Thailand      Asia  45.9562441061913   1.49209523545821\n",
       "19              Viet Nam      Asia  48.2469565958107   2.56156410670985"
      ]
     },
     "execution_count": 359,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "APEC_ASIA = IDG_APEC_pivot[IDG_APEC_pivot['continent'] == \"Asia\"]\n",
    "APEC_ASIA"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "37312216",
   "metadata": {},
   "source": [
    "## Oceanía"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 361,
   "id": "780fa152",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>country name</th>\n",
       "      <th>continent</th>\n",
       "      <th>fuerzalab_fem</th>\n",
       "      <th>pbi</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Australia</td>\n",
       "      <td>Oceania</td>\n",
       "      <td>47.1699615129658</td>\n",
       "      <td>2.11183088925151</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>11</th>\n",
       "      <td>New Zealand</td>\n",
       "      <td>Oceania</td>\n",
       "      <td>47.4842137256425</td>\n",
       "      <td>5.16784735916997</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>12</th>\n",
       "      <td>Papua New Guinea</td>\n",
       "      <td>Oceania</td>\n",
       "      <td>47.8421270245407</td>\n",
       "      <td>-0.780328796906943</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "        country name continent     fuerzalab_fem                 pbi\n",
       "0          Australia   Oceania  47.1699615129658    2.11183088925151\n",
       "11       New Zealand   Oceania  47.4842137256425    5.16784735916997\n",
       "12  Papua New Guinea   Oceania  47.8421270245407  -0.780328796906943"
      ]
     },
     "execution_count": 361,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "APEC_OCEANIA = IDG_APEC_pivot[IDG_APEC_pivot['continent'] == \"Oceania\"]\n",
    "APEC_OCEANIA"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "ba60b774",
   "metadata": {},
   "source": [
    "## América"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 303,
   "id": "1f57d4f7",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>country name</th>\n",
       "      <th>continent</th>\n",
       "      <th>fuerzalab_fem</th>\n",
       "      <th>pbi</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Canada</td>\n",
       "      <td>America</td>\n",
       "      <td>47.118859517777</td>\n",
       "      <td>5.01180087532744</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Chile</td>\n",
       "      <td>America</td>\n",
       "      <td>40.9923901594592</td>\n",
       "      <td>11.7374310662749</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>10</th>\n",
       "      <td>Mexico</td>\n",
       "      <td>America</td>\n",
       "      <td>38.3417717090361</td>\n",
       "      <td>5.83782952301841</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>13</th>\n",
       "      <td>Peru</td>\n",
       "      <td>America</td>\n",
       "      <td>45.975899260784</td>\n",
       "      <td>13.4175302909947</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18</th>\n",
       "      <td>United States</td>\n",
       "      <td>America</td>\n",
       "      <td>46.1491848958517</td>\n",
       "      <td>5.94548476122172</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "     country name continent     fuerzalab_fem               pbi\n",
       "2          Canada   America   47.118859517777  5.01180087532744\n",
       "3           Chile   America  40.9923901594592  11.7374310662749\n",
       "10         Mexico   America  38.3417717090361  5.83782952301841\n",
       "13           Peru   America   45.975899260784  13.4175302909947\n",
       "18  United States   America  46.1491848958517  5.94548476122172"
      ]
     },
     "execution_count": 303,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "APEC_AMERICA = IDG_APEC_pivot[IDG_APEC_pivot['continent'] == \"America\"]\n",
    "APEC_AMERICA"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "7936968a",
   "metadata": {},
   "source": [
    "# Graficación"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "01cb9100",
   "metadata": {},
   "source": [
    "## Gráfico por continente en función de su fuerza laboral femenina y el pbi"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 309,
   "id": "a557c696",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "\n",
       "<style>\n",
       "  #altair-viz-c4429983bcba4221b48f2afdcff4e412.vega-embed {\n",
       "    width: 100%;\n",
       "    display: flex;\n",
       "  }\n",
       "\n",
       "  #altair-viz-c4429983bcba4221b48f2afdcff4e412.vega-embed details,\n",
       "  #altair-viz-c4429983bcba4221b48f2afdcff4e412.vega-embed details summary {\n",
       "    position: relative;\n",
       "  }\n",
       "</style>\n",
       "<div id=\"altair-viz-c4429983bcba4221b48f2afdcff4e412\"></div>\n",
       "<script type=\"text/javascript\">\n",
       "  var VEGA_DEBUG = (typeof VEGA_DEBUG == \"undefined\") ? {} : VEGA_DEBUG;\n",
       "  (function(spec, embedOpt){\n",
       "    let outputDiv = document.currentScript.previousElementSibling;\n",
       "    if (outputDiv.id !== \"altair-viz-c4429983bcba4221b48f2afdcff4e412\") {\n",
       "      outputDiv = document.getElementById(\"altair-viz-c4429983bcba4221b48f2afdcff4e412\");\n",
       "    }\n",
       "    const paths = {\n",
       "      \"vega\": \"https://cdn.jsdelivr.net/npm/vega@5?noext\",\n",
       "      \"vega-lib\": \"https://cdn.jsdelivr.net/npm/vega-lib?noext\",\n",
       "      \"vega-lite\": \"https://cdn.jsdelivr.net/npm/vega-lite@5.16.3?noext\",\n",
       "      \"vega-embed\": \"https://cdn.jsdelivr.net/npm/vega-embed@6?noext\",\n",
       "    };\n",
       "\n",
       "    function maybeLoadScript(lib, version) {\n",
       "      var key = `${lib.replace(\"-\", \"\")}_version`;\n",
       "      return (VEGA_DEBUG[key] == version) ?\n",
       "        Promise.resolve(paths[lib]) :\n",
       "        new Promise(function(resolve, reject) {\n",
       "          var s = document.createElement('script');\n",
       "          document.getElementsByTagName(\"head\")[0].appendChild(s);\n",
       "          s.async = true;\n",
       "          s.onload = () => {\n",
       "            VEGA_DEBUG[key] = version;\n",
       "            return resolve(paths[lib]);\n",
       "          };\n",
       "          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);\n",
       "          s.src = paths[lib];\n",
       "        });\n",
       "    }\n",
       "\n",
       "    function showError(err) {\n",
       "      outputDiv.innerHTML = `<div class=\"error\" style=\"color:red;\">${err}</div>`;\n",
       "      throw err;\n",
       "    }\n",
       "\n",
       "    function displayChart(vegaEmbed) {\n",
       "      vegaEmbed(outputDiv, spec, embedOpt)\n",
       "        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));\n",
       "    }\n",
       "\n",
       "    if(typeof define === \"function\" && define.amd) {\n",
       "      requirejs.config({paths});\n",
       "      require([\"vega-embed\"], displayChart, err => showError(`Error loading script: ${err.message}`));\n",
       "    } else {\n",
       "      maybeLoadScript(\"vega\", \"5\")\n",
       "        .then(() => maybeLoadScript(\"vega-lite\", \"5.16.3\"))\n",
       "        .then(() => maybeLoadScript(\"vega-embed\", \"6\"))\n",
       "        .catch(showError)\n",
       "        .then(() => displayChart(vegaEmbed));\n",
       "    }\n",
       "  })({\"config\": {\"view\": {\"continuousWidth\": 300, \"continuousHeight\": 300}}, \"data\": {\"name\": \"data-9de438d201c07e5a2021842b3780e07d\"}, \"mark\": {\"type\": \"point\", \"filled\": true}, \"encoding\": {\"color\": {\"field\": \"continent\", \"legend\": {\"orient\": \"bottom\", \"titleOrient\": \"left\"}, \"type\": \"nominal\"}, \"column\": {\"field\": \"continent\", \"type\": \"nominal\"}, \"x\": {\"field\": \"pbi\", \"type\": \"quantitative\"}, \"y\": {\"field\": \"fuerzalab_fem\", \"type\": \"quantitative\"}}, \"height\": 150, \"width\": 150, \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.16.3.json\", \"datasets\": {\"data-9de438d201c07e5a2021842b3780e07d\": [{\"country name\": \"Australia\", \"continent\": \"Oceania\", \"fuerzalab_fem\": \"47.1699615129658\", \"pbi\": \"2.11183088925151\"}, {\"country name\": \"Brunei Darussalam\", \"continent\": \"Asia\", \"fuerzalab_fem\": \"41.545202014499\", \"pbi\": \"-1.59076260099606\"}, {\"country name\": \"Canada\", \"continent\": \"America\", \"fuerzalab_fem\": \"47.118859517777\", \"pbi\": \"5.01180087532744\"}, {\"country name\": \"Chile\", \"continent\": \"America\", \"fuerzalab_fem\": \"40.9923901594592\", \"pbi\": \"11.7374310662749\"}, {\"country name\": \"China\", \"continent\": \"Asia\", \"fuerzalab_fem\": \"45.2001384829102\", \"pbi\": \"8.44846941628141\"}, {\"country name\": \"Hong Kong SAR, China\", \"continent\": \"Asia\", \"fuerzalab_fem\": \"49.8580713114707\", \"pbi\": \"6.44172382600794\"}, {\"country name\": \"Indonesia\", \"continent\": \"Asia\", \"fuerzalab_fem\": \"39.4749843756645\", \"pbi\": \"3.70305535690933\"}, {\"country name\": \"Japan\", \"continent\": \"Asia\", \"fuerzalab_fem\": \"44.5754514899833\", \"pbi\": \"2.14248736902735\"}, {\"country name\": \"Korea, Rep.\", \"continent\": \"Asia\", \"fuerzalab_fem\": \"42.7170084666589\", \"pbi\": \"4.30473481906969\"}, {\"country name\": \"Malaysia\", \"continent\": \"Asia\", \"fuerzalab_fem\": \"39.0420390374102\", \"pbi\": \"3.29764100831838\"}, {\"country name\": \"Mexico\", \"continent\": \"America\", \"fuerzalab_fem\": \"38.3417717090361\", \"pbi\": \"5.83782952301841\"}, {\"country name\": \"New Zealand\", \"continent\": \"Oceania\", \"fuerzalab_fem\": \"47.4842137256425\", \"pbi\": \"5.16784735916997\"}, {\"country name\": \"Papua New Guinea\", \"continent\": \"Oceania\", \"fuerzalab_fem\": \"47.8421270245407\", \"pbi\": \"-0.780328796906943\"}, {\"country name\": \"Peru\", \"continent\": \"America\", \"fuerzalab_fem\": \"45.975899260784\", \"pbi\": \"13.4175302909947\"}, {\"country name\": \"Philippines\", \"continent\": \"Asia\", \"fuerzalab_fem\": \"38.7293364002045\", \"pbi\": \"5.71473313483246\"}, {\"country name\": \"Russian Federation\", \"continent\": \"Asia\", \"fuerzalab_fem\": \"48.559815391571\", \"pbi\": \"5.61429037578345\"}, {\"country name\": \"Singapore\", \"continent\": \"Asia\", \"fuerzalab_fem\": \"42.8761045765784\", \"pbi\": \"8.88235399664532\"}, {\"country name\": \"Thailand\", \"continent\": \"Asia\", \"fuerzalab_fem\": \"45.9562441061913\", \"pbi\": \"1.49209523545821\"}, {\"country name\": \"United States\", \"continent\": \"America\", \"fuerzalab_fem\": \"46.1491848958517\", \"pbi\": \"5.94548476122172\"}, {\"country name\": \"Viet Nam\", \"continent\": \"Asia\", \"fuerzalab_fem\": \"48.2469565958107\", \"pbi\": \"2.56156410670985\"}]}}, {\"mode\": \"vega-lite\"});\n",
       "</script>"
      ],
      "text/plain": [
       "alt.Chart(...)"
      ]
     },
     "execution_count": 309,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "alt.Chart(IDG_APEC_pivot).mark_point(filled = True).encode(\n",
    "    x = alt.X(\"pbi:Q\"),\n",
    "    y = alt.Y(\"fuerzalab_fem:Q\"),\n",
    "    color = alt.Color(\"continent\", \n",
    "            legend=alt.Legend(orient='bottom', titleOrient='left')),\n",
    "    column = alt.Column(\"continent\")\n",
    "    ).properties(width=150, height=150)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "9a99e69b",
   "metadata": {},
   "source": [
    "Intepretación: Como puede verse, en cada continente existe una diferente distribución de los datos en función de la fuerza laboral femenina y el crecimiento del PBI durante el año 2021. En ambos continentes podemos ver tendencias de valores altos respecto a su fuerza laboral femenino, donde tanto Asia como America presentan una mayor diversidad de valores a comparación de Oceania. Aquellos países que alcancen valores menore pueden tener como un factor explicativo la complejidad que implicó el contexto de la pandemia para la situación y estabilidad laboral de las mujeres. Con respecto al crecimiento del PBI, durante el 2021 podemos observar que América experimenta niveles altos de crecimiento a comparación de Oceanía (valores que no superan el 6), lo cual puede representarse como una recuperación tras la caída económica del 2020 mediante estímulos y medidas Gubernamentales así como por los avances en la vacunas, tal que gran parte de los objetivos propuestos por la APEC pudieron llevarse con eficacia. Asia por su parte alcanza niveles tanto bajos como altos pero solo un caso negativo. Este extenso rango de valores de su crecimiento del PBI puede entenderse por los desafíos económicos que el COVID-19 implicó para el cumplimiento los objetivos de la APEC, en tanto la pandemia supuso la priorización de las cuestiones de salud dentro de este continente. Entonces, los 3 continentes miembros de la APEC en función de estos 2 indicadores han atravesado distintas trayectorias para lograr los objetivos propuestos por el foro económico. "
   ]
  },
  {
   "cell_type": "markdown",
   "id": "eb441bc4",
   "metadata": {},
   "source": [
    "## Veamos por cada continente para analizar la relación entre pbi y fuerzalab_fem de cada país\n",
    "# Asia\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 362,
   "id": "3f085f6c",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "\n",
       "<style>\n",
       "  #altair-viz-3c23320d381d44b5a07f325288dc8e5d.vega-embed {\n",
       "    width: 100%;\n",
       "    display: flex;\n",
       "  }\n",
       "\n",
       "  #altair-viz-3c23320d381d44b5a07f325288dc8e5d.vega-embed details,\n",
       "  #altair-viz-3c23320d381d44b5a07f325288dc8e5d.vega-embed details summary {\n",
       "    position: relative;\n",
       "  }\n",
       "</style>\n",
       "<div id=\"altair-viz-3c23320d381d44b5a07f325288dc8e5d\"></div>\n",
       "<script type=\"text/javascript\">\n",
       "  var VEGA_DEBUG = (typeof VEGA_DEBUG == \"undefined\") ? {} : VEGA_DEBUG;\n",
       "  (function(spec, embedOpt){\n",
       "    let outputDiv = document.currentScript.previousElementSibling;\n",
       "    if (outputDiv.id !== \"altair-viz-3c23320d381d44b5a07f325288dc8e5d\") {\n",
       "      outputDiv = document.getElementById(\"altair-viz-3c23320d381d44b5a07f325288dc8e5d\");\n",
       "    }\n",
       "    const paths = {\n",
       "      \"vega\": \"https://cdn.jsdelivr.net/npm/vega@5?noext\",\n",
       "      \"vega-lib\": \"https://cdn.jsdelivr.net/npm/vega-lib?noext\",\n",
       "      \"vega-lite\": \"https://cdn.jsdelivr.net/npm/vega-lite@5.16.3?noext\",\n",
       "      \"vega-embed\": \"https://cdn.jsdelivr.net/npm/vega-embed@6?noext\",\n",
       "    };\n",
       "\n",
       "    function maybeLoadScript(lib, version) {\n",
       "      var key = `${lib.replace(\"-\", \"\")}_version`;\n",
       "      return (VEGA_DEBUG[key] == version) ?\n",
       "        Promise.resolve(paths[lib]) :\n",
       "        new Promise(function(resolve, reject) {\n",
       "          var s = document.createElement('script');\n",
       "          document.getElementsByTagName(\"head\")[0].appendChild(s);\n",
       "          s.async = true;\n",
       "          s.onload = () => {\n",
       "            VEGA_DEBUG[key] = version;\n",
       "            return resolve(paths[lib]);\n",
       "          };\n",
       "          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);\n",
       "          s.src = paths[lib];\n",
       "        });\n",
       "    }\n",
       "\n",
       "    function showError(err) {\n",
       "      outputDiv.innerHTML = `<div class=\"error\" style=\"color:red;\">${err}</div>`;\n",
       "      throw err;\n",
       "    }\n",
       "\n",
       "    function displayChart(vegaEmbed) {\n",
       "      vegaEmbed(outputDiv, spec, embedOpt)\n",
       "        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));\n",
       "    }\n",
       "\n",
       "    if(typeof define === \"function\" && define.amd) {\n",
       "      requirejs.config({paths});\n",
       "      require([\"vega-embed\"], displayChart, err => showError(`Error loading script: ${err.message}`));\n",
       "    } else {\n",
       "      maybeLoadScript(\"vega\", \"5\")\n",
       "        .then(() => maybeLoadScript(\"vega-lite\", \"5.16.3\"))\n",
       "        .then(() => maybeLoadScript(\"vega-embed\", \"6\"))\n",
       "        .catch(showError)\n",
       "        .then(() => displayChart(vegaEmbed));\n",
       "    }\n",
       "  })({\"config\": {\"view\": {\"continuousWidth\": 300, \"continuousHeight\": 300}}, \"layer\": [{\"mark\": {\"type\": \"point\", \"color\": \"red\", \"filled\": true, \"shape\": \"triangle-up\"}, \"encoding\": {\"tooltip\": [{\"field\": \"country name\", \"type\": \"nominal\"}, {\"field\": \"pbi\", \"type\": \"nominal\"}], \"x\": {\"field\": \"country name\", \"title\": \"Pa\\u00eds\", \"type\": \"nominal\"}, \"y\": {\"field\": \"pbi\", \"title\": \"PBI\", \"type\": \"quantitative\"}}, \"title\": \"Gr\\u00e1fico de PBI\"}, {\"mark\": {\"type\": \"point\", \"filled\": true, \"shape\": \"circle\"}, \"encoding\": {\"tooltip\": [{\"field\": \"country name\", \"type\": \"nominal\"}, {\"field\": \"fuerzalab_fem\", \"type\": \"nominal\"}], \"x\": {\"field\": \"country name\", \"title\": \"Pa\\u00eds\", \"type\": \"nominal\"}, \"y\": {\"field\": \"fuerzalab_fem\", \"title\": \"Fuerza Laboral\", \"type\": \"quantitative\"}}, \"title\": \"Gr\\u00e1fico de Fuerza Laboral\"}], \"data\": {\"name\": \"data-3f5f6578ac871c96425965b5063388c5\"}, \"resolve\": {\"scale\": {\"y\": \"independent\"}}, \"width\": 400, \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.16.3.json\", \"datasets\": {\"data-3f5f6578ac871c96425965b5063388c5\": [{\"country name\": \"Brunei Darussalam\", \"continent\": \"Asia\", \"fuerzalab_fem\": \"41.545202014499\", \"pbi\": \"-1.59076260099606\"}, {\"country name\": \"China\", \"continent\": \"Asia\", \"fuerzalab_fem\": \"45.2001384829102\", \"pbi\": \"8.44846941628141\"}, {\"country name\": \"Hong Kong SAR, China\", \"continent\": \"Asia\", \"fuerzalab_fem\": \"49.8580713114707\", \"pbi\": \"6.44172382600794\"}, {\"country name\": \"Indonesia\", \"continent\": \"Asia\", \"fuerzalab_fem\": \"39.4749843756645\", \"pbi\": \"3.70305535690933\"}, {\"country name\": \"Japan\", \"continent\": \"Asia\", \"fuerzalab_fem\": \"44.5754514899833\", \"pbi\": \"2.14248736902735\"}, {\"country name\": \"Korea, Rep.\", \"continent\": \"Asia\", \"fuerzalab_fem\": \"42.7170084666589\", \"pbi\": \"4.30473481906969\"}, {\"country name\": \"Malaysia\", \"continent\": \"Asia\", \"fuerzalab_fem\": \"39.0420390374102\", \"pbi\": \"3.29764100831838\"}, {\"country name\": \"Philippines\", \"continent\": \"Asia\", \"fuerzalab_fem\": \"38.7293364002045\", \"pbi\": \"5.71473313483246\"}, {\"country name\": \"Russian Federation\", \"continent\": \"Asia\", \"fuerzalab_fem\": \"48.559815391571\", \"pbi\": \"5.61429037578345\"}, {\"country name\": \"Singapore\", \"continent\": \"Asia\", \"fuerzalab_fem\": \"42.8761045765784\", \"pbi\": \"8.88235399664532\"}, {\"country name\": \"Thailand\", \"continent\": \"Asia\", \"fuerzalab_fem\": \"45.9562441061913\", \"pbi\": \"1.49209523545821\"}, {\"country name\": \"Viet Nam\", \"continent\": \"Asia\", \"fuerzalab_fem\": \"48.2469565958107\", \"pbi\": \"2.56156410670985\"}]}}, {\"mode\": \"vega-lite\"});\n",
       "</script>"
      ],
      "text/plain": [
       "alt.LayerChart(...)"
      ]
     },
     "execution_count": 362,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "import altair as alt\n",
    "from IPython.display import display\n",
    "\n",
    "# Gráfico para PBI\n",
    "chart_pbi = alt.Chart(APEC_ASIA).mark_point(shape='triangle-up', filled=True, color='red').encode(\n",
    "    x=alt.X(\"country name:N\", title='País'),\n",
    "    y=alt.Y(\"pbi:Q\", title='PBI'),\n",
    "    tooltip=['country name', 'pbi']\n",
    ").properties(\n",
    "    width=400,\n",
    "    title='Gráfico de PBI'\n",
    ")\n",
    "\n",
    "# Gráfico para fuerza laboral femenina\n",
    "chart_fuerza_laboral = alt.Chart(APEC_ASIA).mark_point(shape='circle', filled=True).encode(\n",
    "    x=alt.X(\"country name:N\", title='País'),\n",
    "    y=alt.Y(\"fuerzalab_fem:Q\", title='Fuerza Laboral'),\n",
    "    tooltip=['country name', 'fuerzalab_fem']\n",
    ").properties(\n",
    "    width=400,\n",
    "    title='Gráfico de Fuerza Laboral'\n",
    ")\n",
    "\n",
    "# Combinamos los dos gráficos en una sola visualización\n",
    "combined_chart = alt.layer(chart_pbi, chart_fuerza_laboral).resolve_scale(y='independent')\n",
    "\n",
    "# Mostramos el gráfico combinado\n",
    "combined_chart\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "9a5aa983",
   "metadata": {},
   "source": [
    "Intepretación: En este gráfico se puede visualizar el nivel de PBI y de Fuerza Laboral de cada país de Asia miembro de la APEC, donde el triángulo representa el crecimiento del PBI y los círculos representan la fuerza laboral femenina. Países como Tailandia, Vietnam, Japón, Malasia e Indonesia presentan un PBI con bajos valores en tanto otros factores internos y externos además de la pandemia, como desastres naturales, crisis políticas o cambios en los precios de las materias primas, podrían haber contribuido a las variaciones en el PBI. Mientras tanto China y Singapur logran cumplir los objetivos propuestos desde el foro de la APEC en tanto presentan los mayores valores de este continente con respecto a su PBI, lo cual puede explicarse por un manejo efectivo de la pandemia desde la diversificación de su economía y su fortalecimiento del comercio internacional. Asimismo, la fuerza laboral femenina es alta en China contribuyendo en parte a la mejora de su productividad y al aumento de la fuerza laboral total. También en los demás países presentan altos niveles de fuerza laboral femenina sin importar que tan alto o bajo sea su PBI, tal como Japón, Corea del Sur, Malasia y La Federación Rusa. Esto nos puede dar un indicio de que la fuerza laboral femenino no es el único factor que contribuye o influye en el crecimiento del PBI."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "e8b4dad8",
   "metadata": {},
   "source": [
    "# Oceanía"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 363,
   "id": "9ef23ed0",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "\n",
       "<style>\n",
       "  #altair-viz-26d6dd18ea3645c7b22c4bd8ad2904b8.vega-embed {\n",
       "    width: 100%;\n",
       "    display: flex;\n",
       "  }\n",
       "\n",
       "  #altair-viz-26d6dd18ea3645c7b22c4bd8ad2904b8.vega-embed details,\n",
       "  #altair-viz-26d6dd18ea3645c7b22c4bd8ad2904b8.vega-embed details summary {\n",
       "    position: relative;\n",
       "  }\n",
       "</style>\n",
       "<div id=\"altair-viz-26d6dd18ea3645c7b22c4bd8ad2904b8\"></div>\n",
       "<script type=\"text/javascript\">\n",
       "  var VEGA_DEBUG = (typeof VEGA_DEBUG == \"undefined\") ? {} : VEGA_DEBUG;\n",
       "  (function(spec, embedOpt){\n",
       "    let outputDiv = document.currentScript.previousElementSibling;\n",
       "    if (outputDiv.id !== \"altair-viz-26d6dd18ea3645c7b22c4bd8ad2904b8\") {\n",
       "      outputDiv = document.getElementById(\"altair-viz-26d6dd18ea3645c7b22c4bd8ad2904b8\");\n",
       "    }\n",
       "    const paths = {\n",
       "      \"vega\": \"https://cdn.jsdelivr.net/npm/vega@5?noext\",\n",
       "      \"vega-lib\": \"https://cdn.jsdelivr.net/npm/vega-lib?noext\",\n",
       "      \"vega-lite\": \"https://cdn.jsdelivr.net/npm/vega-lite@5.16.3?noext\",\n",
       "      \"vega-embed\": \"https://cdn.jsdelivr.net/npm/vega-embed@6?noext\",\n",
       "    };\n",
       "\n",
       "    function maybeLoadScript(lib, version) {\n",
       "      var key = `${lib.replace(\"-\", \"\")}_version`;\n",
       "      return (VEGA_DEBUG[key] == version) ?\n",
       "        Promise.resolve(paths[lib]) :\n",
       "        new Promise(function(resolve, reject) {\n",
       "          var s = document.createElement('script');\n",
       "          document.getElementsByTagName(\"head\")[0].appendChild(s);\n",
       "          s.async = true;\n",
       "          s.onload = () => {\n",
       "            VEGA_DEBUG[key] = version;\n",
       "            return resolve(paths[lib]);\n",
       "          };\n",
       "          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);\n",
       "          s.src = paths[lib];\n",
       "        });\n",
       "    }\n",
       "\n",
       "    function showError(err) {\n",
       "      outputDiv.innerHTML = `<div class=\"error\" style=\"color:red;\">${err}</div>`;\n",
       "      throw err;\n",
       "    }\n",
       "\n",
       "    function displayChart(vegaEmbed) {\n",
       "      vegaEmbed(outputDiv, spec, embedOpt)\n",
       "        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));\n",
       "    }\n",
       "\n",
       "    if(typeof define === \"function\" && define.amd) {\n",
       "      requirejs.config({paths});\n",
       "      require([\"vega-embed\"], displayChart, err => showError(`Error loading script: ${err.message}`));\n",
       "    } else {\n",
       "      maybeLoadScript(\"vega\", \"5\")\n",
       "        .then(() => maybeLoadScript(\"vega-lite\", \"5.16.3\"))\n",
       "        .then(() => maybeLoadScript(\"vega-embed\", \"6\"))\n",
       "        .catch(showError)\n",
       "        .then(() => displayChart(vegaEmbed));\n",
       "    }\n",
       "  })({\"config\": {\"view\": {\"continuousWidth\": 300, \"continuousHeight\": 300}}, \"hconcat\": [{\"mark\": {\"type\": \"bar\"}, \"encoding\": {\"color\": {\"field\": \"country name\", \"type\": \"nominal\"}, \"tooltip\": [{\"field\": \"country name\", \"type\": \"nominal\"}, {\"field\": \"pbi\", \"type\": \"nominal\"}], \"x\": {\"field\": \"country name\", \"title\": \"Pa\\u00eds\", \"type\": \"nominal\"}, \"y\": {\"field\": \"pbi\", \"title\": \"PBI\", \"type\": \"quantitative\"}}, \"title\": \"Gr\\u00e1fico de Barras - PBI\", \"width\": 200}, {\"mark\": {\"type\": \"bar\"}, \"encoding\": {\"color\": {\"field\": \"country name\", \"type\": \"nominal\"}, \"tooltip\": [{\"field\": \"country name\", \"type\": \"nominal\"}, {\"field\": \"fuerzalab_fem\", \"type\": \"nominal\"}], \"x\": {\"field\": \"country name\", \"title\": \"Pa\\u00eds\", \"type\": \"nominal\"}, \"y\": {\"field\": \"fuerzalab_fem\", \"title\": \"Fuerza Laboral\", \"type\": \"quantitative\"}}, \"title\": \"Gr\\u00e1fico de Barras - Fuerza Laboral Femenina\", \"width\": 200}], \"data\": {\"name\": \"data-2f00c2708161e8734307cbf9b2079e21\"}, \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.16.3.json\", \"datasets\": {\"data-2f00c2708161e8734307cbf9b2079e21\": [{\"country name\": \"Australia\", \"continent\": \"Oceania\", \"fuerzalab_fem\": \"47.1699615129658\", \"pbi\": \"2.11183088925151\"}, {\"country name\": \"New Zealand\", \"continent\": \"Oceania\", \"fuerzalab_fem\": \"47.4842137256425\", \"pbi\": \"5.16784735916997\"}, {\"country name\": \"Papua New Guinea\", \"continent\": \"Oceania\", \"fuerzalab_fem\": \"47.8421270245407\", \"pbi\": \"-0.780328796906943\"}]}}, {\"mode\": \"vega-lite\"});\n",
       "</script>"
      ],
      "text/plain": [
       "alt.HConcatChart(...)"
      ]
     },
     "execution_count": 363,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "chart_pbi = alt.Chart(APEC_OCEANIA).mark_bar().encode(\n",
    "    x=alt.X(\"country name:N\", title='País'),\n",
    "    y=alt.Y(\"pbi:Q\", title='PBI'),color = \"country name\", tooltip=['country name', 'pbi']\n",
    ").properties(\n",
    "    width=200,\n",
    "    title='Gráfico de Barras - PBI'\n",
    ")\n",
    "\n",
    "# Gráfico de puntos para fuerza laboral femenina\n",
    "chart_fuerza_laboral = alt.Chart(APEC_OCEANIA).mark_bar().encode(\n",
    "    x=alt.X(\"country name:N\", title='País'),\n",
    "    y=alt.Y(\"fuerzalab_fem:Q\", title='Fuerza Laboral'), color = \"country name\",\n",
    "    tooltip=['country name', 'fuerzalab_fem']\n",
    ").properties(\n",
    "    width=200,\n",
    "    title='Gráfico de Barras - Fuerza Laboral Femenina'\n",
    ")\n",
    "\n",
    "# Combinar los dos gráficos en una sola visualización\n",
    "combined_chart = alt.hconcat(chart_pbi, chart_fuerza_laboral)\n",
    "combined_chart"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "7b6fc00b",
   "metadata": {},
   "source": [
    "Interpretación: En estos gráficos podemos ver el nivel del crecimiento de PBI por cada pais de Oceanía y también el nivel de fuerza laboral femenina. Con respecto a Nueva Zelanda puede representar un miembro fuerte de la APEC destacado en tanto su nivel de PBI y fuerza laboral femenino fue alto durante el 2021, lo cual puede ser favorable para que el país cumpla con las estrategias propuestas desde el foro. Australia por su parte cuenta con una fuerza laboral femenina alta pero su PBI durante el 2021 fue muy bajo dada las condiciones que la pandemia impuso sobre el territorio. Papua Nueva Guinea presenta un panorama más negativo en tanto su PBI alcanzó valores negativos, lo cual le impide nivelarse con los demás miembros de la APEC en tanto mantiene un desafio por enfrentar al ser un país altamente dependiente de otros sectores como la minería, la agricultura y el gas natural."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "9f343e7f",
   "metadata": {},
   "source": [
    "# América"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 352,
   "id": "36150964",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "\n",
       "<style>\n",
       "  #altair-viz-5d99d2e9811f47f5b510226f12c4f420.vega-embed {\n",
       "    width: 100%;\n",
       "    display: flex;\n",
       "  }\n",
       "\n",
       "  #altair-viz-5d99d2e9811f47f5b510226f12c4f420.vega-embed details,\n",
       "  #altair-viz-5d99d2e9811f47f5b510226f12c4f420.vega-embed details summary {\n",
       "    position: relative;\n",
       "  }\n",
       "</style>\n",
       "<div id=\"altair-viz-5d99d2e9811f47f5b510226f12c4f420\"></div>\n",
       "<script type=\"text/javascript\">\n",
       "  var VEGA_DEBUG = (typeof VEGA_DEBUG == \"undefined\") ? {} : VEGA_DEBUG;\n",
       "  (function(spec, embedOpt){\n",
       "    let outputDiv = document.currentScript.previousElementSibling;\n",
       "    if (outputDiv.id !== \"altair-viz-5d99d2e9811f47f5b510226f12c4f420\") {\n",
       "      outputDiv = document.getElementById(\"altair-viz-5d99d2e9811f47f5b510226f12c4f420\");\n",
       "    }\n",
       "    const paths = {\n",
       "      \"vega\": \"https://cdn.jsdelivr.net/npm/vega@5?noext\",\n",
       "      \"vega-lib\": \"https://cdn.jsdelivr.net/npm/vega-lib?noext\",\n",
       "      \"vega-lite\": \"https://cdn.jsdelivr.net/npm/vega-lite@5.16.3?noext\",\n",
       "      \"vega-embed\": \"https://cdn.jsdelivr.net/npm/vega-embed@6?noext\",\n",
       "    };\n",
       "\n",
       "    function maybeLoadScript(lib, version) {\n",
       "      var key = `${lib.replace(\"-\", \"\")}_version`;\n",
       "      return (VEGA_DEBUG[key] == version) ?\n",
       "        Promise.resolve(paths[lib]) :\n",
       "        new Promise(function(resolve, reject) {\n",
       "          var s = document.createElement('script');\n",
       "          document.getElementsByTagName(\"head\")[0].appendChild(s);\n",
       "          s.async = true;\n",
       "          s.onload = () => {\n",
       "            VEGA_DEBUG[key] = version;\n",
       "            return resolve(paths[lib]);\n",
       "          };\n",
       "          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);\n",
       "          s.src = paths[lib];\n",
       "        });\n",
       "    }\n",
       "\n",
       "    function showError(err) {\n",
       "      outputDiv.innerHTML = `<div class=\"error\" style=\"color:red;\">${err}</div>`;\n",
       "      throw err;\n",
       "    }\n",
       "\n",
       "    function displayChart(vegaEmbed) {\n",
       "      vegaEmbed(outputDiv, spec, embedOpt)\n",
       "        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));\n",
       "    }\n",
       "\n",
       "    if(typeof define === \"function\" && define.amd) {\n",
       "      requirejs.config({paths});\n",
       "      require([\"vega-embed\"], displayChart, err => showError(`Error loading script: ${err.message}`));\n",
       "    } else {\n",
       "      maybeLoadScript(\"vega\", \"5\")\n",
       "        .then(() => maybeLoadScript(\"vega-lite\", \"5.16.3\"))\n",
       "        .then(() => maybeLoadScript(\"vega-embed\", \"6\"))\n",
       "        .catch(showError)\n",
       "        .then(() => displayChart(vegaEmbed));\n",
       "    }\n",
       "  })({\"config\": {\"view\": {\"continuousWidth\": 300, \"continuousHeight\": 300}}, \"data\": {\"name\": \"data-f4c98c06ab4f29f8a226308212728432\"}, \"mark\": {\"type\": \"point\"}, \"encoding\": {\"color\": {\"field\": \"country name\", \"type\": \"nominal\"}, \"tooltip\": [{\"field\": \"country name\", \"type\": \"nominal\"}, {\"field\": \"pbi\", \"type\": \"nominal\"}], \"x\": {\"field\": \"pbi\", \"type\": \"quantitative\"}, \"y\": {\"field\": \"fuerzalab_fem\", \"type\": \"quantitative\"}}, \"params\": [{\"name\": \"param_34\", \"select\": {\"type\": \"interval\", \"encodings\": [\"x\", \"y\"]}, \"bind\": \"scales\"}], \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.16.3.json\", \"datasets\": {\"data-f4c98c06ab4f29f8a226308212728432\": [{\"country name\": \"Canada\", \"continent\": \"America\", \"fuerzalab_fem\": \"47.118859517777\", \"pbi\": \"5.01180087532744\"}, {\"country name\": \"Chile\", \"continent\": \"America\", \"fuerzalab_fem\": \"40.9923901594592\", \"pbi\": \"11.7374310662749\"}, {\"country name\": \"Mexico\", \"continent\": \"America\", \"fuerzalab_fem\": \"38.3417717090361\", \"pbi\": \"5.83782952301841\"}, {\"country name\": \"Peru\", \"continent\": \"America\", \"fuerzalab_fem\": \"45.975899260784\", \"pbi\": \"13.4175302909947\"}, {\"country name\": \"United States\", \"continent\": \"America\", \"fuerzalab_fem\": \"46.1491848958517\", \"pbi\": \"5.94548476122172\"}]}}, {\"mode\": \"vega-lite\"});\n",
       "</script>"
      ],
      "text/plain": [
       "alt.Chart(...)"
      ]
     },
     "execution_count": 352,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "alt.Chart(APEC_AMERICA).mark_point().encode(\n",
    "    x = alt.X(\"pbi:Q\"),\n",
    "    y = alt.Y(\"fuerzalab_fem:Q\"),\n",
    "    color = \"country name\",\n",
    "    tooltip = [\"country name\", \"pbi\"]\n",
    "    ).interactive()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "5a8a034a",
   "metadata": {},
   "source": [
    "Interpretación: Como puede observarse, la relación entre fuerza laboral y pbi es más alta en paises de América del Sur que en los de Centro América y Norte América. Todos suelen presentar niveles altos de fuerza laboral femenina, pese a la inestabilidad laboral desarrollada durante el contexto de la pandemia y que implicó la disminución de la participación femenina en este sector. Sin embargo, el PBI de estos países sudamericanos puede haberse visto favorecida porque tanto Perú como Chile son países ricos en recursos naturales y dependen significativamente de las exportaciones de commodities. Si los precios de los minerales, metales y otros productos básicos aumentaron en 2021, esto habría impulsado las exportaciones y contribuido al crecimiento económico. Estados Unidos, Canada y Mexico también implementaron programas de estímulo fiscal para apoyar a los ciudadanos y las empresas, lo que contribuyó al crecimiento económico, pero también enfrentaron desafíos, como la persistencia de la variante Delta del virus y las interrupciones en las cadenas de suministro globales. Ello sin embargo, no ha impedido que los países americanos logren desenvolver las estrategias propuestas desde la APEC en tanto el crecimiento económico no es uniforme e igualitario entre todos los países de América."
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.11.5"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
